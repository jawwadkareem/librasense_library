<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/admin-dashboard.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <section class="navbar_hero-container">
      <nav
        class="navbar navbar-expand-lg"
        style="background-color: rgb(236, 236, 242)"
      >

      <div class="navbar-left_content-container" style="display: flex; justify-content: center;">
        <img id="navbar-logo-image" src="images/navbar-logo.png" alt="haha" 
        style="width: 35px; height: 35px; margin-right: 5px;">
        <h4 id="navbar-logo-name" style="margin-top: 2px;">Libra<span style="color: #9BA4B5;">Sense.</span></h4>
      </div>
      
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse"
          id="navbarNav"
          style="display: flex; justify-content: flex-end"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="/logout"><button type="button" id="navbar-logout-btn"><span>Logout</span>
                <img src="/images/logout.png" alt="" id="nav-logout-icon">
              </button></a>
            </li>
          </ul>
        </div>
      </nav>
    </section>

    <section>
      <div class="container-fluid">
        <div
          class="admin-block-main-heading-container"
          style="display: flex; justify-content: center"
        >
          <h1 id="admin_block-main-heading">WELCOME TO ADMIN BLOCK</h1>
        </div>
        <div class="row">
          <!--COUNTERS CONTAINER-->
          <div class="col-lg-12">
            <div
              class="div_all-counter-containers"
              style="
                display: flex;
                justify-content: center;
                gap: 60px;
                margin-bottom: 50px;
              "
            >
              <div class="each_count-container" style="margin-top: 10px">
                <img
                  src="/images/admin-happy-customer.png"
                  alt=""
                  style="max-height: 90px"
                />

                <div id="count_data-container">
                  <!!-- happy customer data from backend come here -->
                  <h1 id="customer-count-h1">0</h1>
                  <h4
                    style="
                      color: rgb(197, 193, 193);
                      font-family: 'Comfortaa', cursive;
                    "
                  >
                    Happy Customers
                  </h4>
                </div>
              </div>

              <div class="each_count-container">
                <img
                  src="/images/admin-working-staff.png"
                  alt=""
                  style="max-height: 100px"
                />
                <div id="count_data-container">
                  <!!-- working Staff data from backend come here -->
                  <h1 id="staff-count-h1">0</h1>
                  <h4
                    style="
                      color: rgb(197, 193, 193);
                      font-family: 'Comfortaa', cursive;
                    "
                  >
                    Working Staff
                  </h4>
                </div>
              </div>

              <div class="each_count-container">
                <img
                  src="/images/admin-counting-books.png"
                  alt=""
                  style="max-height: 100px"
                />
                <div id="count_data-container">
                  <!!-- counting books data from backend come here -->
                  <h1 id="book-count-h1">0</h1>

                  <h4
                    style="
                      color: rgb(197, 193, 193);
                      font-family: 'Comfortaa', cursive;
                    "
                  >
                    Counting Books
                  </h4>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <div
              class="all_option-cards-container"
              style="display: flex; justify-content: center; gap: 60px"
            >
              <!--USER RECORDS CARD-->
              <div class="each-option-card-container">
                <div class="option_card">
                  <div
                    class="image_container"
                    style="
                      display: flex;
                      justify-content: center;
                      align-items: center;
                      padding: 15px;
                    "
                  >
                    <img
                      src="/images/admin-user-records.png"
                      alt=""
                      style="max-width: 120px"
                    />
                  </div>
                  <div class="name_btn-container">
                    <h3 id="admin_card-heading">User Records</h3>
                    <button
                      id="explore-more-btn"
                      onclick="window.location.href='/user_records'"
                    >
                      Explore More
                    </button>
                  </div>
                </div>
              </div>

              <!--STAFF RECORDS CARD-->
              <div class="each-option-card-container">
                <div class="option_card">
                  <div class="image_container">
                    <img
                      src="/images/admin-staff-records.png"
                      alt=""
                      style="max-width: 150px"
                    />
                  </div>
                  <div class="name_btn-container">
                    <h3 id="admin_card-heading">Staff Records</h3>
                    <button
                      id="explore-more-btn"
                      onclick="window.location.href='/staff_records'"
                    >
                      Explore More
                    </button>
                  </div>
                </div>
              </div>

              <!--BOOKS RECORDS CARD-->
              <div class="each-option-card-container">
                <div class="option_card">
                  <div class="image_container">
                    <img
                      src="/images/admin-book-records.png"
                      alt=""
                      style="max-width: 150px"
                    />
                  </div>
                  <div class="name_btn-container">
                    <h3 id="admin_card-heading">Book Records</h3>
                    <button
                    style="border: 2px solid #00008B;;"
                      id="explore-more-btn"
                      data-toggle="modal"
                      data-target="#exampleModal"
                    >
                      Explore More
                    </button>
                  </div>
                </div>
                <!-- Modal -->
                <div
                  class="modal fade"
                  id="exampleModal"
                  tabindex+="-1"
                  role="dialog"
                  aria-labelledby="exampleModalLabel"
                  aria-hidden="true"
                >
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div
                        class="modal-header"
                        style="display: flex; justify-content: center"
                      >
                        <h3
                          class="modal-title books_switch-modal-title"
                          id="exampleModalLabel"
                        >
                          VIEW DATA FOR
                        </h3>
                      </div>
                      <div
                        class="modal-body"
                        style="display: flex; justify-content: center"
                      >
                        <button
                          class="e-book-book-switch-btn"
                          onclick="window.location.href ='/book_records';"
                        >
                          <img
                            src="/images/admin-physical-book-card.png"
                            alt=""
                            id="book-switch_img"
                          />
                          <h5 id="book_switch_name">BOOKS</h5>
                        </button>
                        <button
                          class="e-book-book-switch-btn"
                          onclick="window.location.href = '/ebook_records';"
                        >
                          <img
                            src="/images/admin-ebook-card.png"
                            alt=""
                            id="book-switch_img"
                          />
                          <h5 id="book_switch_name">E-BOOKS</h5>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <script>
      var customer_countINT = parseInt(`<%= JSON.stringify(count[0].total_user) %>`);
      var staff_countINT = parseInt(`<%= JSON.stringify(count[0].total_staff) %>`);
      var book_countINT = parseInt(`<%= JSON.stringify(count[0].total_book) %>`);

      var Interval = 0

      var uptoCustomer = 0;
      var uptoStaff = 0
      var uptoBook = 0

      var CustomercountContainer = document.getElementById('customer-count-h1');
      var StaffcountContainer = document.getElementById('staff-count-h1');
      var BookcountContainer = document.getElementById('book-count-h1');

      if ( customer_countINT < 10 ){
        Interval = 500
      }

      else{
        Interval = 50
      }

      if (staff_countINT < 10){
        Interval = 500
      }

      else{
        Interval = 50
      }

      if (book_countINT < 10){
        Interval = 500
      }

      else{
        Interval = 50
      }

      /*CUSTOMER FUNCTION*/
      function updateCustomer() {
        CustomercountContainer.innerText = ++uptoCustomer;
  
        if (uptoCustomer === customer_countINT) {
          clearInterval(counts);
        }
      }

      /*STAFF FUNCTION*/
      function updateStaff() {
        StaffcountContainer.innerText = ++uptoStaff;
  
        if (uptoStaff === staff_countINT) {
          clearInterval(counts1);
        }
      }

      /*BOOK FUNCTION*/
      function updateBook() {
        BookcountContainer.innerText = ++uptoBook;

        if (book_countINT === 0){
          BookcountContainer.innerText = "0"
        }
        if (uptoBook === book_countINT) {
          clearInterval(counts2);
        }
      }

      var counts = setInterval(updateCustomer, Interval);
      var counts1 = setInterval(updateStaff, Interval);
      var counts2 = setInterval(updateBook, Interval);

    </script>

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
